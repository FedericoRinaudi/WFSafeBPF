# Configurazione del client WFSafe
# Questo file viene letto periodicamente dal daemon

# Interfaccia di rete su cui caricare il programma eBPF
interface: enp0s9

# Intervallo di controllo in secondi (default: 60)
check_interval_seconds: 120

# Parametri per la pulizia delle mappe di traduzione
translation_cleanup_interval_seconds: 5  # Intervallo di cleanup (default: 5)
cpu_threshold: 5.0                       # Soglia CPU per cleanup aggressivo (default: 5.0)
timestamp_threshold_seconds: 60          # Entry più vecchie di questo valore vengono eliminate (default: 60)
force_cleanup_every: 20                  # Cleanup forzato ogni N iterazioni (default: 20)

# Lista dei server configurati
servers:
  # Primo server
  - name: server1
    server_ip: 10.10.10.2
    http_port: 8000        # Porta del servizio HTTP (per la richiesta)
    service_port: 1234     # Porta del servizio WFSafe (chiave eBPF)
    endpoint: /config
    
    # Timestamp dell'ultimo invio delle chiavi al server (ISO 8601)
    # Le chiavi vengono generate al volo e non salvate
    last_sent_at: 2024-01-01T00:00:00Z
    
    # Durata delle chiavi in secondi
    duration_seconds: 86400  # 24 ore
    
    # Probabilità (0-100)
    padding_probability: 70
    dummy_probability: 70
    fragmentation_probability: 70

